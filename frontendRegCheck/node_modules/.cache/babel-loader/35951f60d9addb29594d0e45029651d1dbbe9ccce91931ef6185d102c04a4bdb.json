{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useUserStore } from '@/store/userStore';\nimport { toast } from 'vue3-toastify';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'LoginView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const userStore = useUserStore();\n    const email = ref(null);\n    const password = ref(null);\n    async function onSubmit() {\n      try {\n        const res = await userStore.loginUser(email.value, password.value);\n        toast('Te haz logueado correctamente!', {\n          autoClose: 1000\n        });\n        router.push('/dashboard');\n      } catch (e) {\n        console.log('Ha ocurrido un error', e.response.data.message);\n        toast(e.response?.data?.message, {\n          autoClose: 3000\n        });\n      }\n    }\n    function onReset() {\n      email.value = null;\n      password.value = null;\n    }\n    const __returned__ = {\n      router,\n      userStore,\n      email,\n      password,\n      onSubmit,\n      onReset,\n      ref,\n      get useUserStore() {\n        return useUserStore;\n      },\n      get toast() {\n        return toast;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useUserStore","toast","useRouter","router","userStore","email","password","onSubmit","res","loginUser","value","autoClose","push","e","console","log","response","data","message","onReset"],"sources":["/app/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"q-pa-md\" style=\"max-width: 400px\">\n    <q-card class=\"my-card\">\n      <q-card-section>\n        <div class=\"text-h6\">Login</div>\n      </q-card-section>\n      <q-card-section>\n        <q-form @submit.prevent=\"onSubmit\" @reset=\"onReset\" class=\"q-gutter-md\">\n          <q-input\n            filled\n            v-model=\"email\"\n            label=\"Ingresa tu email\"\n            lazy-rules\n            :rules=\"[val => val && val.length > 0 || 'Ingresa un correo válido']\"\n          />\n      \n          <q-input\n            filled\n            type=\"password\"\n            v-model=\"password\"\n            label=\"ingresa tu contraseña\"\n            lazy-rules\n            :rules=\"[\n              val => val !== null && val !== '' || 'Ingresa una contraseña',\n            ]\"\n          />      \n          <div>\n            <q-btn label=\"Entrar\" type=\"submit\" color=\"primary\"/>\n            <q-btn label=\"Limpiar campos\" type=\"reset\" color=\"primary\" flat class=\"q-ml-sm\" />\n          </div>\n        </q-form>\n      </q-card-section>\n      <q-card-section>\n        <span>No tienes cuenta? ingresa al </span>\n        <q-btn @click=\"() => userStore.registerView = true\" label=\"Registro\" color=\"purple\"></q-btn>\n      </q-card-section>\n    </q-card>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useUserStore } from '@/store/userStore'\nimport { toast } from 'vue3-toastify';\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst userStore = useUserStore();\n\nconst email = ref(null)\nconst password = ref(null)\n\nasync function onSubmit() {\n  try {\n    const res = await userStore.loginUser(email.value, password.value);\n    toast('Te haz logueado correctamente!', {\n      autoClose: 1000,\n    })\n    router.push('/dashboard');\n  } catch (e) {\n    console.log('Ha ocurrido un error', e.response.data.message);\n    toast(e.response?.data?.message, {\n      autoClose: 3000,\n    })\n  }\n}\n\nfunction onReset() {\n  email.value = null\n  password.value = null\n}\n</script>\n"],"mappings":";AAyCA,SAASA,GAAG,QAAQ,KAAI;AACxB,SAASC,YAAY,QAAQ,mBAAkB;AAC/C,SAASC,KAAK,QAAQ,eAAe;AACrC,SAASC,SAAS,QAAQ,YAAW;;;;;;;IAErC,MAAMC,MAAM,GAAGD,SAAS,CAAC;IACzB,MAAME,SAAS,GAAGJ,YAAY,CAAC,CAAC;IAEhC,MAAMK,KAAK,GAAGN,GAAG,CAAC,IAAI;IACtB,MAAMO,QAAQ,GAAGP,GAAG,CAAC,IAAI;IAEzB,eAAeQ,QAAQA,CAAA,EAAG;MACxB,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMJ,SAAS,CAACK,SAAS,CAACJ,KAAK,CAACK,KAAK,EAAEJ,QAAQ,CAACI,KAAK,CAAC;QAClET,KAAK,CAAC,gCAAgC,EAAE;UACtCU,SAAS,EAAE;QACb,CAAC;QACDR,MAAM,CAACS,IAAI,CAAC,YAAY,CAAC;MAC3B,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEF,CAAC,CAACG,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC;QAC5DjB,KAAK,CAACY,CAAC,CAACG,QAAQ,EAAEC,IAAI,EAAEC,OAAO,EAAE;UAC/BP,SAAS,EAAE;QACb,CAAC;MACH;IACF;IAEA,SAASQ,OAAOA,CAAA,EAAG;MACjBd,KAAK,CAACK,KAAK,GAAG,IAAG;MACjBJ,QAAQ,CAACI,KAAK,GAAG,IAAG;IACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}